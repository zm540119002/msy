
{notempty name='list'}
{volist name="list" id="vo"}
<li class="columns_flex tag-item first-tag" data-id="{$vo.id}">
    <div class="td">
        <input type="text" class="serial-num" value="{$vo.sort}"/>
    </div>
    <div class="td">
        {notempty name="vo.thumb_img"}
        <img src="public_uploads/{$vo.thumb_img}" alt="" class="left goods-img">
        {else /}
        <img src="public_img/default/no_pic_100.jpg" alt="" class="left">
        {/notempty}
        <p class="classify-tag-name">{$vo.name}</p>
    </div>
    <div class="classify-operate-btn td">
        <a href="javascript:void(0);" class="up-btn move-icons move-btn">上移</a>
        <a href="javascript:void(0);" class="down-btn down-icons move-btn">下移</a>
    </div>
    <input type="hidden" value="" class="classifyTagInfo1" data-tag-id="">
</li>
{/volist}
{else /}
{/notempty}
{block name="script"}
<script type="text/javascript">
    $(function(){
        //上移
        $('body').on('click','.up-btn',function(){
            var _this=$(this);
            var _thisLi = _this.parents('li');
            //交换排序值
            var _thisSortVal = _thisLi.find('input').val();
            _thisLi.find('input').val(_thisLi.prev().find('input').val());
            _thisLi.prev().find('input').val(_thisSortVal);
            //交换位置
            _thisLi.insertBefore(_thisLi.prev());
            //禁用移动按钮
            disableBtn();
        });
        //下移
        $('body').on('click','.down-btn',function(){
            var _this=$(this);
            var _thisLi = _this.parents('li');
            //交换排序值
            var _thisSortVal = _thisLi.find('input').val();
            console.log(_thisLi.next().find('input').val());
            _thisLi.find('input').val(_thisLi.next().find('input').val());
            _thisLi.next().find('input').val(_thisSortVal);
            //交换位置
            _thisLi.insertAfter(_thisLi.next());
            disableBtn();
        });
    });
</script>
{/block}

