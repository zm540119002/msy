{extend name="template/base.html" /}
{block name="title"}城市测试3{/block}
{block name="content"}
<div id="province_city_linkage">
	<label class="form-label" @click="toggle">选择地区：</label>
	<city_picker
			v-show="display"
			@toggle="toggle"
			@get="get"
			:init_provinces="provinces"
	></city_picker>
</div>
{/block}
{block name="common"}
<script type="text/javascript" src="vue_js/province_city.js"></script>
{include file="../../api/public/vue/components/province-city.html" /}
<script type="text/javascript">
	$(function(){
		var city_picker_param = {
			provinces:{provinces},
			display:false,
			province_code:{}
		};
		new Vue({
			el: "#province_city_linkage",
			data: function () {
				return city_picker_param;
			},methods: {
				//更新市数据
				toggle:function(){
					let _this = this;
					_this.display = !_this.display;
				},get:function(param){
					let _this = this;
					this.province_code = param;
				},created:function(){
					let _this = this;
				}
			}
		});
		$('body').on('click','.sure',function(){
			city_picker_param.display = false;
		});
	});
</script>
{/block}
{block name="footer"}
<a href="javascript:void(0);" class="sure">确定</a>
{/block}
