{extend name="template/base.html" /}
{block name="title"}城市测试{/block}
{block name="content"}
<article class="f24">
	<div id="province_city_linkage">
		<!-- 省 -->
		<select v-model="prov" @change="updateCity();">
			<option v-for='province in provinces'>{{province.name}}</option>
		</select>
		<!-- 市 -->
		<select v-model="city" v-if="city">
			<option v-for='city in cities'>{{city.name}}</option>
		</select>
	</div>
</article>
{/block}
{block name="footer"}
{/block}
{block name="script"}
<script type="text/javascript" src="public_js/province_city.js"></script>
<script type="text/javascript">
	$(function(){
		new Vue({
			el: "#province_city_linkage",
			data: {
				provinces: provinces,
				selectedProvince: '', //被选择的省
				cities:[], //选择对应省的市数据
				selectedCity:''  //被选择的市
			},
			methods: {
				//更新市数据
				updateCity:function(){
					this.city = this.city[0].name;
				}
			}
		});
	});
</script>
<script type="text/javascript">
	$(function(){
	});
</script>
{/block}